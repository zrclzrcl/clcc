CREATE TABLE t1 (
    a INTEGER PRIMARY KEY,
    b TEXT NOT NULL UNIQUE,
    c REAL DEFAULT 0.0 CHECK (c >= 0),
    d DATE NOT NULL ON CONFLICT REPLACE,
    e BOOLEAN DEFAULT FALSE
);

INSERT INTO t1(a, b, c, d) VALUES(1, 'test', 123.45, '2023-01-01');
INSERT OR IGNORE INTO t1(a, b, c, d) VALUES(2, 'test', 987.65, '2023-02-02');
INSERT OR REPLACE INTO t1(a, b, c, d) VALUES(3, 'test', 456.78, '2023-03-03');

UPDATE t1 SET c = c * -1 WHERE a = 1;
UPDATE OR IGNORE t1 SET e = TRUE WHERE a = 2;

DELETE FROM t1 WHERE a = 3;

BEGIN TRANSACTION;
INSERT INTO t1(a, b, c, d) VALUES(4, 'test', 789.00, '2023-04-04');
COMMIT;

BEGIN TRANSACTION;
INSERT INTO t1(a, b, c, d) VALUES(5, 'test', 654.32, '2023-05-05');
ROLLBACK;

SELECT a AS id, b AS name, c AS value, d AS date FROM t1 WHERE e = FALSE;
SELECT COUNT(*) OVER (ORDER BY a) AS row_num, * FROM t1;

CREATE TABLE t2 (
    x INTEGER PRIMARY KEY,
    y TEXT REFERENCES t1(b)
);

INSERT INTO t2(x, y) VALUES(1, 'test');
INSERT INTO t2(x, y) VALUES(2, 'test');

SELECT * FROM t1 LEFT JOIN t2 ON t1.b = t2.y WHERE t2.x IS NULL;
CREATE TABLE t1(a TEXT UNIQUE NOT NULL, b INTEGER PRIMARY KEY AUTOINCREMENT, c REAL DEFAULT 0.0, d BLOB);
CREATE TABLE t2(e REFERENCES t1(b), f TEXT CHECK(f != ''), g REAL, h INTEGER);
INSERT INTO t1 VALUES('', NULL, -1.23456789e+3, X'ABCD');
INSERT INTO t1(a, c) VALUES('test', 0.0);
INSERT INTO t2(e, f, g) SELECT b, a || 'suffix', c * 2 FROM t1;
SELECT DISTINCT a AS alias_a, SUM(b), NULLIF(MAX(c), 0), COUNT(*) FROM t1 JOIN t2 ON t1.b = t2.e WHERE d IS NOT NULL GROUP BY a ORDER BY alias_a DESC LIMIT 5 OFFSET 2;
UPDATE t1 SET c = c + 1.0 WHERE b IN (SELECT e FROM t2);
DELETE FROM t2 WHERE g < (SELECT AVG(c) FROM t1);
WITH cte AS (SELECT f, COUNT(*) as cnt FROM t2 GROUP BY f) INSERT INTO t1(a, b) SELECT f || '_new', cnt FROM cte;
REPLACE INTO t1 VALUES('replace_test', 999, 9.99, NULL);
CREATE TABLE x1(a PRIMARY KEY);
CREATE TABLE x2(b INTEGER UNIQUE) WITHOUT ROWID;
CREATE TABLE x3(c TEXT, d REAL, e BOOLEAN, f BLOB, g DATETIME);
CREATE TABLE x4 AS SELECT a FROM x1 UNION ALL SELECT b FROM x2;
CREATE INDEX idx_x1_a ON x1(a);
CREATE UNIQUE INDEX idx_x2_b ON x2(b);
CREATE VIEW v1 AS SELECT x1.a, x2.b, COUNT(*) as cnt FROM x1 JOIN x2 ON x1.a = x2.b GROUP BY x1.a, x2.b;
CREATE VIEW v2 AS SELECT c, ROW_NUMBER() OVER (ORDER BY c) as rn FROM x3 WHERE d > 10.5;
CREATE FUNCTION add_numbers(a INT, b INT) RETURNS INT AS BEGIN RETURN a + b; END;
CREATE TRIGGER trig_x1 AFTER INSERT ON x1 BEGIN INSERT INTO x_log VALUES (NEW.a, datetime('now')); END;
WITH cte AS (SELECT * FROM v1 WHERE cnt > 2), cte2 AS (SELECT c, rn FROM v2 ORDER BY rn DESC) SELECT * FROM cte JOIN cte2 ON cte.c = cte2.c LIMIT 5;
SELECT a, b, add_numbers(a, b) as sum FROM x1 JOIN x2 ON x1.a = x2.b WHERE a > 0 AND b < 100 ORDER BY sum DESC OFFSET 3 ROWS FETCH NEXT 5 ROWS ONLY;
INSERT INTO x1 VALUES(1), (2), ('test'), (NULL);
INSERT INTO x2 VALUES(100), (200), (300), (400), (NULL);
INSERT INTO x3 VALUES('hello', 3.14, TRUE, X'0102', '2023-10-05 12:34:56'), ('world', NULL, FALSE, X'ABCD', '2023-10-06');
INSERT INTO x4 VALUES(1), (2), (3);
CREATE TABLE tbl1 (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, age INTEGER CHECK(age >= 0), balance REAL DEFAULT 0.0);
CREATE TABLE tbl2 (id INTEGER PRIMARY KEY, category TEXT(50) UNIQUE, description TEXT, FOREIGN KEY(category) REFERENCES tbl3(category));
CREATE INDEX idx1 ON tbl1(name, age);
CREATE INDEX idx2 ON tbl2(category, id);
INSERT INTO tbl1 VALUES (NULL, 'Alice', 30, 1000.50), (NULL, 'Bob', NULL, -500.75);
INSERT INTO tbl2 VALUES (1, 'Electronics', ' Gadgets and devices '), (2, 'Clothing', 'Apparel items');
CREATE VIEW vw1 AS SELECT tbl1.name, tbl1.age, tbl2.description FROM tbl1 JOIN tbl2 ON tbl1.id = tbl2.id;
CREATE TRIGGER trg1 AFTER INSERT ON tbl1 FOR EACH ROW WHEN NEW.balance < 0 BEGIN INSERT INTO tbl2 VALUES (new.id, 'Negative', 'Balance is negative'); END;
WITH cte AS (SELECT name, age FROM tbl1 WHERE age > 25) SELECT * FROM cte ORDER BY name DESC LIMIT 1 OFFSET 1;
SELECT DISTINCT name, category FROM vw1 WHERE age >= 25 AND balance != 0.0 ORDER BY name ASC;
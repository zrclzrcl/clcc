CREATE TABLE t1(id INTEGER PRIMARY KEY, name TEXT);
INSERT INTO t1 VALUES(1, 'Alice');
INSERT INTO t1 VALUES(2, 'Bob');
INSERT INTO t1 VALUES(3, 'Charlie');
INSERT INTO t1 VALUES(4, 'David');

CREATE TABLE t2(a INTEGER PRIMARY KEY) WITHOUT ROWID;
INSERT INTO t2 VALUES(10);
INSERT INTO t2 VALUES(20);
INSERT INTO t2 VALUES(30);

CREATE INDEX i1 ON t1(id);

SELECT * FROM t1 WHERE id IN (SELECT a FROM t2);
SELECT COUNT(*) FROM t1 WHERE name NOT IN (SELECT name FROM t1 WHERE id < 3);
SELECT t1.name, t2.a FROM t1 INNER JOIN t2 ON t1.id = t2.a / 10;

WITH cte AS (
    SELECT * FROM t1 WHERE id > 2
)
SELECT * FROM cte;

SELECT id, name, ROW_NUMBER() OVER (PARTITION BY name ORDER BY id) AS rn FROM t1;

BEGIN TRANSACTION;
INSERT INTO t2 VALUES(40);
ROLLBACK;

CREATE VIEW v1 AS SELECT t1.name, t2.a FROM t1 JOIN t2 ON t1.id = t2.a / 10;

CREATE TRIGGER trig1 AFTER UPDATE OF id ON t1 WHEN NEW.id > 3
BEGIN
    INSERT INTO t2 VALUES(NEW.id * 10);
END;
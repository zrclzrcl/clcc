CREATE TABLE t1(a INTEGER PRIMARY KEY, b TEXT NOT NULL UNIQUE, c REAL CHECK(c > 0), d BLOB);
CREATE INDEX idx_t1_b_lower ON t1(LOWER(b));
CREATE TRIGGER tr1 AFTER INSERT ON t1 BEGIN
    INSERT INTO logx VALUES(new.a, new.b, new.c) ON CONFLICT(a) DO UPDATE SET c = excluded.c;
END;
CREATE TABLE logx(a INTEGER PRIMARY KEY, b TEXT UNIQUE, c REAL);
CREATE VIEW v1 AS SELECT t1.a, logx.b, t1.c FROM t1 JOIN logx ON t1.a = logx.a;
CREATE TABLE child(x INTEGER REFERENCES t1(a) ON DELETE CASCADE ON UPDATE NO ACTION);